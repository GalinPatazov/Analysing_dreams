{% extends "base.html" %}

{% load static %}


{% block content %}
<div class="dream-detail">

    <h2>Dream Details</h2>
    <p>{{ dream.name }}</p>
    <p>{{ dream.text }}</p>

    <a href="{% url 'dreams_app:toggle_favorite' dream.pk %}" class="btn">
        {% if is_favorite %}
            Remove from Favorites
        {% else %}
            Add to Favorites
        {% endif %}
    </a>

    <h3>Analysis</h3>
    {% if dream.analysis_text %}
        <p>{{ dream.analysis_text|linebreaks }}</p>
    {% else %}
        <p><em>No analysis yet.</em></p>
    {% endif %}

    <h3>Dream Image</h3>

    {% if dream.image %}
        <img src="{{ dream.image.url }}"
             alt="Dream image"
             style="max-width:100%; border-radius:8px;">
    {% else %}
        <img src="{% static 'dreams_app/images/placeholder.png' %}"
             alt="Placeholder image"
             style="max-width:100%; border-radius:8px;">
    {% endif %}

    <br><br>
    <a href="{% url 'dreams_app:edit_dream' dream.pk %}" class="btn">Edit Dream</a>
    <a href="{% url 'dreams_app:delete_dream' dream.pk %}" class="btn" style="color: red; margin-left: 10px;">Delete Dream</a>
    <br><br>
    <a href="{% url 'dreams_app:my_dreams' %}">‚Üê Back to My Dreams</a>

</div>
{% endblock %}