{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Edit Dream" %}{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px;">
    <div class="card">
        <h1>{% trans "Edit Dream" %}</h1>

        <div style="background: rgba(255, 209, 102, 0.1); border-left: 4px solid var(--accent); padding: 1rem; margin: 1.5rem 0; border-radius: var(--radius);">
            <p style="margin: 0; color: var(--text);">
                <strong>{% trans "Note:" %}</strong> {% trans "Changing the dream text will regenerate the AI analysis and image." %}
            </p>
        </div>

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-group">
                <label for="id_name">{% trans "Dream Title" %}</label>
                <input type="text" name="name" value="{{ form.name.value }}" id="id_name" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="id_text">{% trans "Dream Description" %}</label>
                <textarea name="text" id="id_text" class="form-control" required>{{ form.text.value }}</textarea>
                <p style="font-size: 0.9rem; color: var(--text-light); margin-top: 0.5rem;">
                    {% trans "Describe your dream in detail for better AI analysis." %}
                </p>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn btn-primary">
                    {% trans "Update Dream" %}
                </button>
                <a href="{% url 'dreams_app:detail' object.id %}" class="btn btn-outline">
                    {% trans "Cancel" %}
                </a>
                <a href="{% url 'dreams_app:delete_dream' object.id %}" class="btn btn-danger" style="margin-left: auto;">
                    {% trans "Delete Dream" %}
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}